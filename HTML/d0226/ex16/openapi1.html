<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <table border="1">
        <thead>
            <tr>
                <td>1</td>
                <td>2</td>
            </tr>
        </thead>
        <tbody id="tableBody">
        </tbody>
    </table>

    <script>

        const users = [
            { id: 1, name: "í™ê¸¸ë™", phone: "010-1111-1111", email: "hong@test.com" },
            { id: 2, name: "ì´ìˆœì‹ ", phone: "010-2222-2222", email: "lee@test.com" }
        ];
        const tbody = document.getElementById("tableBody");

        users.forEach((user) => {
            // ğŸ”¹ ê¸°ë³¸ í–‰ ìƒì„±
            const tr = document.createElement("tr");

            const tdId = document.createElement("td");
            tdId.textContent = user.id;

            const tdName = document.createElement("td");
            tdName.textContent = user.name;

            const tdBtn = document.createElement("td");

            const button = document.createElement("button");
            button.textContent = "ìƒì„¸ë³´ê¸°";

            tdBtn.appendChild(button);

            tr.appendChild(tdId);
            tr.appendChild(tdName);
            tr.appendChild(tdBtn);

            tbody.appendChild(tr);

            // ğŸ”¥ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            button.addEventListener("click", function () {

                const nextRow = tr.nextElementSibling;

                // ì´ë¯¸ ìƒì„¸í–‰ì´ ìˆìœ¼ë©´ ì œê±°
                if (nextRow && nextRow.classList.contains("detail-row")) {
                    nextRow.remove();
                    button.textContent = "ìƒì„¸ë³´ê¸°";
                    return;
                }

                // ğŸ”¹ ìƒì„¸í–‰ ìƒì„±
                const detailTr = document.createElement("tr");
                detailTr.classList.add("detail-row");

                const detailTd = document.createElement("td");
                detailTd.colSpan = 3;  // ì»¬ëŸ¼ ì „ì²´ ì‚¬ìš©

                detailTd.textContent =
                    `ì „í™”ë²ˆí˜¸: ${user.phone} / ì´ë©”ì¼: ${user.email}`;

                detailTr.appendChild(detailTd);

                // í˜„ì¬ í–‰ ë°”ë¡œ ì•„ë˜ì— ì‚½ì…
                tr.insertAdjacentElement("afterend", detailTr);

                button.textContent = "ì·¨ì†Œ";
            });

        });
    </script>
</body>
</html>